(()=>{"use strict";const e=(()=>{const e=document.querySelector("#task-title"),o=document.querySelector("#select-project"),s=document.querySelector("#priority"),a=document.querySelector("#due-date"),r=document.querySelector("#description");let n=[];return{allTasks:n,addTask:function(){if(""==e.value||""==o.value||""==s.value||""==a.value)alert("Please fill all inputs.");else{let l=((e,t,o,s,a)=>({title:e,project:t,priority:o,dueDate:s,description:a}))(e.value,o.value,s.value,a.value,r.value);n.push(l),console.log(n),t.projectList.forEach((e=>{document.querySelector("#select-project").value===e.title&&e.tasks.push(l)}))}},orderTasks:function(){t.projectList.forEach((e=>{e.tasks=e.tasks.filter((e=>n.includes(e)))}))}}})(),t=(()=>{let t,o=[],s=[];const a=document.querySelector("#project-title-input");return{helper:t,projectNames:s,projectList:o,addProject:function(){if(""==a.value)alert("Please fill the input.");else{let e={title:a.value,tasks:[]};o.push(e),s.push(a.value),console.log(o)}},removeTasksWithProj:function(o){e.allTasks.length>0&&e.allTasks.forEach((s=>{s.project==o.target.parentNode.textContent.trim()&&(s.project="",t=e.allTasks.filter((e=>""!==e.project)),console.log(t))}))}}})(),o=(()=>{const o=document.querySelector("#task-modal-bg"),s=document.querySelector("#project-tasks-container"),a=document.querySelector("#project-modal-bg"),r=document.querySelector("#select-project"),n=document.querySelector("#project-container"),l=document.querySelector("#task-container");return{body:document.querySelector("body"),deleteTask:function(o){e.allTasks.splice(o.target.dataset.taskNum,1),t.projectList.forEach((e=>{console.log(e)}))},clearProjTasks:function(){s.innerHTML=""},showProjectTasks:function(e){t.projectList.forEach((t=>{t.title===e.target.textContent.trim()&&(s.innerHTML=`\n        <h3 id="project-tasks-title">${t.title}</h3>\n        `,t.tasks.forEach((e=>{let t=document.createElement("div");t.innerHTML=`\n          <p>${e.title}</p>  \n          <p class="task-display">${e.dueDate}</p>\n          <p class="task-display">${e.priority}</p>\n        \n            `,s.appendChild(t)})))}))},projTaskDisplayCheck:function(){const e=document.querySelector("#project-tasks-title");t.projectList.forEach((o=>{o.title===e.textContent&&(0===o.tasks.length||-1===t.projectNames.indexOf(o.title)?s.innerHTML="\n            \n            ":o.tasks.length>0&&(console.log(o.tasks),s.innerHTML=`\n            <h3 id="project-tasks-title">${o.title}</h3>\n            `,o.tasks.forEach((e=>{let t=document.createElement("div");t.className="proj-tasks",t.innerHTML=`\n              <p>${e.title}</p>  \n              <p class="task-display">${e.dueDate}</p>\n              <p class="task-display">${e.priority}</p>\n              \n              `,s.appendChild(t)}))))})),null!==e&&-1===t.projectNames.indexOf(e.textContent)&&(s.innerHTML="")},deleteProject:function(e){t.projectList.splice(e.target.dataset.indexNumber,1),t.projectNames.splice(e.target.dataset.indexNumber,1)},openTaskModal:function(){o.style.display="block"},openProjectModal:function(){a.style.display="block"},hideProjectModal:function(){a.style.display="none"},hideTaskModal:function(){o.style.display="none"},clearProjForm:function(){document.querySelector("#project-title-input").value=""},clearTaskForm:function(){const e=document.querySelector("#task-title"),t=document.querySelector("#select-project"),o=document.querySelector("#due-date"),s=document.querySelector("#priority"),a=document.querySelector("#description");e.value="",t.value="None",o.value="",s.value="Low",a.value=""},renderProjOptions:function(){r.innerHTML='\n      <option value="">Choose Project</option>\n      <option value="none">None</option>\n    ',t.projectList.forEach((e=>{const t=document.createElement("option");t.id="project-dropdown",t.textContent=e.title,r.appendChild(t)}))},showProjects:function(){n.innerHTML='\n      <h3 id="project-display">Projects</h3>\n    ',t.projectList.forEach((e=>{const o=document.createElement("li");o.id="project-list-item",o.innerHTML=`\n      ${e.title}\n      <i class="fas fa-trash delete-project" data-index-number=${t.projectList.indexOf(e)}></i>\n      `,n.appendChild(o)}))},showTasks:function(){l.innerHTML='\n    \t<h3 id="all-tasks">All Tasks</h3>\n    ',e.allTasks.forEach((o=>{if(""!=o.project){const s=document.createElement("div");s.id="task-list-item",s.innerHTML=`\n        <p>${o.title}</p> \n        <p class="task-display">Project: ${o.project}</p>   \n        <p class="task-display">${o.dueDate}</p>\n        <p class="task-display">${o.priority}</p>\n        <i class="fas fa-trash delete-task" data-task-num=${e.allTasks.indexOf(o)} data-project-num=${t.projectList}></i>\n          `,l.appendChild(s)}}))}}})();o.body.addEventListener("click",(s=>{"task-btn"===s.target.id?o.openTaskModal():"project-btn"===s.target.id?o.openProjectModal():"close-button"===s.target.className?(o.hideProjectModal(),o.hideTaskModal()):"task-submit"===s.target.id?(e.addTask(),o.showTasks(),o.hideTaskModal(),o.clearTaskForm(),o.projTaskDisplayCheck()):"project-submit"===s.target.id?(t.addProject(),o.showProjects(),o.renderProjOptions(),o.hideProjectModal(),o.clearProjForm()):"fas fa-trash delete-project"===s.target.className?(t.removeTasksWithProj(s),o.deleteProject(s),o.renderProjOptions(),o.showProjects(),o.showTasks(),o.projTaskDisplayCheck()):"fas fa-trash delete-task"===s.target.className?(o.deleteTask(s),e.orderTasks(),o.showProjects(),o.showTasks(),o.projTaskDisplayCheck()):"project-list-item"===s.target.id&&(o.clearProjTasks(),o.showProjectTasks(s),o.projTaskDisplayCheck())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LG1CQUU4QixnQ0FBdkJ6QyxFQUFFQyxPQUFPd0IsV0FDaEIsc0JBQTZCekIsR0FDN0IsZ0JBQWtCQSxHQUNsQixzQkFDQSxpQkFDQSxjQUNBLDBCQUU4Qiw2QkFBdkJBLEVBQUVDLE9BQU93QixXQUNoQixhQUFlekIsR0FDZixlQUNBLGlCQUNBLGNBQ0EsMEJBRXVCLHNCQUFoQkEsRUFBRUMsT0FBT3dDLEtBQ2hCLG1CQUNBLG1CQUFxQnpDLEdBQ3JCLDhCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RmYWN0b3J5LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90YXNrcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdG9kb0ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2hhbmRsZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZhY3RvcnkgdG8gbWFrZSBwcm9qZWN0IG9iamVjdHNcbmNvbnN0IHByb2plY3RGYWN0b3J5ID0gKHRpdGxlKSA9PiB7XG4gIHRpdGxlID0ge1xuICAgIHRpdGxlIDogdGl0bGUsXG4gICAgdGFza3MgOiBbXVxuICB9O1xuICByZXR1cm4gdGl0bGU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0RmFjdG9yeTtcbiIsImltcG9ydCB0b2RvRmFjdG9yeSBmcm9tICcuL3RvZG9GYWN0b3J5JztcbmltcG9ydCBwcm9qZWN0cyBmcm9tICcuL3Byb2plY3RzJztcblxuY29uc3QgdGFza3MgPSAoKCkgPT4ge1xuICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFzay10aXRsZScpO1xuICBjb25zdCBwcm9qZWN0U2VsZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlbGVjdC1wcm9qZWN0Jyk7XG4gIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaW9yaXR5Jyk7XG4gIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZHVlLWRhdGUnKTtcbiAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc2NyaXB0aW9uJyk7XG5cbiAgbGV0IGFsbFRhc2tzID0gW107XG5cbiAgZnVuY3Rpb24gYWRkVGFzaygpIHtcbiAgICBpZiAoXG4gICAgICB0YXNrVGl0bGUudmFsdWUgPT0gJycgfHxcbiAgICAgIHByb2plY3RTZWxlY3Rpb24udmFsdWUgPT0gJycgfHxcbiAgICAgIHByaW9yaXR5LnZhbHVlID09ICcnIHx8XG4gICAgICBkdWVEYXRlLnZhbHVlID09ICcnXG4gICAgKSB7XG4gICAgICBhbGVydCgnUGxlYXNlIGZpbGwgYWxsIGlucHV0cy4nKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsZXQgbmV3VGFzayA9IHRvZG9GYWN0b3J5KFxuICAgICAgICB0YXNrVGl0bGUudmFsdWUsXG4gICAgICAgIHByb2plY3RTZWxlY3Rpb24udmFsdWUsXG4gICAgICAgIHByaW9yaXR5LnZhbHVlLFxuICAgICAgICBkdWVEYXRlLnZhbHVlLFxuICAgICAgICB0YXNrRGVzY3JpcHRpb24udmFsdWVcbiAgICAgICk7XG5cbiAgICAgIGFsbFRhc2tzLnB1c2gobmV3VGFzayk7XG4gICAgICBjb25zb2xlLmxvZyhhbGxUYXNrcyk7XG4gICAgICBwcm9qZWN0cy5wcm9qZWN0TGlzdC5mb3JFYWNoKChwcm9qKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2VsZWN0LXByb2plY3QnKTtcbiAgICAgICAgaWYgKHByb2plY3RTZWxlY3QudmFsdWUgPT09IHByb2oudGl0bGUpIHtcbiAgICAgICAgICBwcm9qLnRhc2tzLnB1c2gobmV3VGFzayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9yZGVyVGFza3MoKSB7XG4gICAgcHJvamVjdHMucHJvamVjdExpc3QuZm9yRWFjaCgocHJvaikgPT4ge1xuICAgICAgcHJvai50YXNrcyA9IHByb2oudGFza3MuZmlsdGVyKCh0YXNrKSA9PiBhbGxUYXNrcy5pbmNsdWRlcyh0YXNrKSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFsbFRhc2tzLFxuICAgIGFkZFRhc2ssXG4gICAgb3JkZXJUYXNrc1xuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgdGFza3M7XG4iLCIvLyBGYWN0b3J5IGZ1bmN0aW9uIHRvIG1ha2UgdG9kb3NcbmNvbnN0IHRvZG9GYWN0b3J5ID0gKHRpdGxlLCBwcm9qZWN0LCBwcmlvcml0eSwgZHVlRGF0ZSwgZGVzY3JpcHRpb24pID0+IHtcbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBwcm9qZWN0LFxuICAgIHByaW9yaXR5LFxuICAgIGR1ZURhdGUsXG4gICAgZGVzY3JpcHRpb25cbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvZG9GYWN0b3J5O1xuIiwiaW1wb3J0IHByb2plY3RGYWN0b3J5IGZyb20gJy4vcHJvamVjdGZhY3RvcnknO1xuaW1wb3J0IHRhc2tzIGZyb20gJy4vdGFza3MnO1xuXG5jb25zdCBwcm9qZWN0cyA9ICgoKSA9PiB7XG4gIGxldCBwcm9qZWN0TGlzdCA9IFtdO1xuICBsZXQgcHJvamVjdE5hbWVzID0gW107XG4gIGxldCBoZWxwZXI7XG4gIGNvbnN0IHByb2pOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUtaW5wdXQnKTtcblxuICBmdW5jdGlvbiBhZGRQcm9qZWN0KCkge1xuICAgIGlmIChwcm9qTmFtZS52YWx1ZSA9PSAnJykge1xuICAgICAgYWxlcnQoJ1BsZWFzZSBmaWxsIHRoZSBpbnB1dC4nKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsZXQgbmV3UHJvaiA9IHByb2plY3RGYWN0b3J5KHByb2pOYW1lLnZhbHVlKTtcbiAgICAgIHByb2plY3RMaXN0LnB1c2gobmV3UHJvaik7XG4gICAgICBwcm9qZWN0TmFtZXMucHVzaChwcm9qTmFtZS52YWx1ZSk7XG4gICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVGFza3NXaXRoUHJvaihlKSB7XG4gICAgaWYgKHRhc2tzLmFsbFRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRhc2tzLmFsbFRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgICAgaWYgKHRhc2sucHJvamVjdCA9PSBlLnRhcmdldC5wYXJlbnROb2RlLnRleHRDb250ZW50LnRyaW0oKSkge1xuICAgICAgICAgIHRhc2sucHJvamVjdCA9ICcnO1xuICAgICAgICAgIGhlbHBlciA9IHRhc2tzLmFsbFRhc2tzLmZpbHRlcigodGFzaykgPT4gdGFzay5wcm9qZWN0ICE9PSAnJyk7XG4gICAgICAgICAgY29uc29sZS5sb2coaGVscGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoZWxwZXIsXG4gICAgcHJvamVjdE5hbWVzLFxuICAgIHByb2plY3RMaXN0LFxuICAgIGFkZFByb2plY3QsXG4gICAgcmVtb3ZlVGFza3NXaXRoUHJvalxuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdHM7XG4iLCJpbXBvcnQgcHJvamVjdHMgZnJvbSAnLi9wcm9qZWN0cyc7XG5pbXBvcnQgdGFza3MgZnJvbSAnLi90YXNrcyc7XG5cbmNvbnN0IGRvbSA9ICgoKSA9PiB7XG4gIGNvbnN0IHRhc2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLW1vZGFsLWJnJyk7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LXRhc2tzLWNvbnRhaW5lcicpO1xuICBjb25zdCBwcm9qZWN0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1tb2RhbC1iZycpO1xuICBjb25zdCBzZWxlY3RQcm9qID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlbGVjdC1wcm9qZWN0Jyk7XG4gIGNvbnN0IHByb2pDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1jb250YWluZXInKTtcbiAgY29uc3QgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWNvbnRhaW5lcicpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIGZ1bmN0aW9uIG9wZW5UYXNrTW9kYWwoKSB7XG4gICAgdGFza01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZVRhc2tNb2RhbCgpIHtcbiAgICB0YXNrTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Qcm9qZWN0TW9kYWwoKSB7XG4gICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZVByb2plY3RNb2RhbCgpIHtcbiAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyUHJvakZvcm0oKSB7XG4gICAgY29uc3QgcHJvalRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUtaW5wdXQnKTtcbiAgICBwcm9qVGl0bGUudmFsdWUgPSAnJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyVGFza0Zvcm0oKSB7XG4gICAgY29uc3QgdGFza1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2stdGl0bGUnKTtcbiAgICBjb25zdCB0YXNrUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWxlY3QtcHJvamVjdCcpO1xuICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2R1ZS1kYXRlJyk7XG4gICAgY29uc3QgdGFza1ByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaW9yaXR5Jyk7XG4gICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc2NyaXB0aW9uJyk7XG5cbiAgICB0YXNrVGl0bGUudmFsdWUgPSAnJztcbiAgICB0YXNrUHJvamVjdC52YWx1ZSA9ICdOb25lJztcbiAgICB0YXNrRHVlRGF0ZS52YWx1ZSA9ICcnO1xuICAgIHRhc2tQcmlvcml0eS52YWx1ZSA9ICdMb3cnO1xuICAgIHRhc2tEZXNjcmlwdGlvbi52YWx1ZSA9ICcnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd1Rhc2tzKCkge1xuICAgIHRhc2tDb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIFx0PGgzIGlkPVwiYWxsLXRhc2tzXCI+QWxsIFRhc2tzPC9oMz5cbiAgICBgO1xuXG4gICAgdGFza3MuYWxsVGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgaWYgKHRhc2sucHJvamVjdCA9PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0YXNrRGl2LmlkID0gJ3Rhc2stbGlzdC1pdGVtJztcbiAgICAgICAgdGFza0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxwPiR7dGFzay50aXRsZX08L3A+IFxuICAgICAgICA8cCBjbGFzcz1cInRhc2stZGlzcGxheVwiPlByb2plY3Q6ICR7dGFzay5wcm9qZWN0fTwvcD4gICBcbiAgICAgICAgPHAgY2xhc3M9XCJ0YXNrLWRpc3BsYXlcIj4ke3Rhc2suZHVlRGF0ZX08L3A+XG4gICAgICAgIDxwIGNsYXNzPVwidGFzay1kaXNwbGF5XCI+JHt0YXNrLnByaW9yaXR5fTwvcD5cbiAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdHJhc2ggZGVsZXRlLXRhc2tcIiBkYXRhLXRhc2stbnVtPSR7dGFza3MuYWxsVGFza3MuaW5kZXhPZihcbiAgICAgICAgICB0YXNrXG4gICAgICAgICl9IGRhdGEtcHJvamVjdC1udW09JHtwcm9qZWN0cy5wcm9qZWN0TGlzdH0+PC9pPlxuICAgICAgICAgIGA7XG4gICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza0Rpdik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJQcm9qT3B0aW9ucygpIHtcbiAgICBzZWxlY3RQcm9qLmlubmVySFRNTCA9IGBcbiAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5DaG9vc2UgUHJvamVjdDwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vbmVcIj5Ob25lPC9vcHRpb24+XG4gICAgYDtcbiAgICBwcm9qZWN0cy5wcm9qZWN0TGlzdC5mb3JFYWNoKChwcm9qKSA9PiB7XG4gICAgICBjb25zdCBvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3AuaWQgPSAncHJvamVjdC1kcm9wZG93bic7XG4gICAgICBvcC50ZXh0Q29udGVudCA9IHByb2oudGl0bGU7XG4gICAgICBzZWxlY3RQcm9qLmFwcGVuZENoaWxkKG9wKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVByb2plY3QoZSkge1xuICAgIHByb2plY3RzLnByb2plY3RMaXN0LnNwbGljZShlLnRhcmdldC5kYXRhc2V0LmluZGV4TnVtYmVyLCAxKTtcbiAgICBwcm9qZWN0cy5wcm9qZWN0TmFtZXMuc3BsaWNlKGUudGFyZ2V0LmRhdGFzZXQuaW5kZXhOdW1iZXIsIDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlVGFzayhlKSB7XG4gICAgdGFza3MuYWxsVGFza3Muc3BsaWNlKGUudGFyZ2V0LmRhdGFzZXQudGFza051bSwgMSk7XG5cbiAgICBwcm9qZWN0cy5wcm9qZWN0TGlzdC5mb3JFYWNoKChwcm9qKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhwcm9qKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dQcm9qZWN0cygpIHtcbiAgICBwcm9qQ29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxoMyBpZD1cInByb2plY3QtZGlzcGxheVwiPlByb2plY3RzPC9oMz5cbiAgICBgO1xuICAgIHByb2plY3RzLnByb2plY3RMaXN0LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGxpLmlkID0gJ3Byb2plY3QtbGlzdC1pdGVtJztcbiAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICR7cHJvamVjdC50aXRsZX1cbiAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoIGRlbGV0ZS1wcm9qZWN0XCIgZGF0YS1pbmRleC1udW1iZXI9JHtwcm9qZWN0cy5wcm9qZWN0TGlzdC5pbmRleE9mKFxuICAgICAgICBwcm9qZWN0XG4gICAgICApfT48L2k+XG4gICAgICBgO1xuICAgICAgcHJvakNvbnRhaW5lci5hcHBlbmRDaGlsZChsaSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhclByb2pUYXNrcygpIHtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93UHJvamVjdFRhc2tzKGUpIHtcbiAgICBwcm9qZWN0cy5wcm9qZWN0TGlzdC5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICBpZiAocHJvamVjdC50aXRsZSA9PT0gZS50YXJnZXQudGV4dENvbnRlbnQudHJpbSgpKSB7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxoMyBpZD1cInByb2plY3QtdGFza3MtdGl0bGVcIj4ke3Byb2plY3QudGl0bGV9PC9oMz5cbiAgICAgICAgYDtcbiAgICAgICAgcHJvamVjdC50YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICAgICAgbGV0IHByb2pUYXNrc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIHByb2pUYXNrc0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHA+JHt0YXNrLnRpdGxlfTwvcD4gIFxuICAgICAgICAgIDxwIGNsYXNzPVwidGFzay1kaXNwbGF5XCI+JHt0YXNrLmR1ZURhdGV9PC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGFzay1kaXNwbGF5XCI+JHt0YXNrLnByaW9yaXR5fTwvcD5cbiAgICAgICAgXG4gICAgICAgICAgICBgO1xuICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qVGFza3NEaXYpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2pUYXNrRGlzcGxheUNoZWNrKCkge1xuICAgIGNvbnN0IHByb2pUYXNrVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC10YXNrcy10aXRsZScpO1xuICAgIHByb2plY3RzLnByb2plY3RMaXN0LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgIGlmIChwcm9qZWN0LnRpdGxlID09PSBwcm9qVGFza1RpdGxlLnRleHRDb250ZW50KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9qZWN0LnRhc2tzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgIHByb2plY3RzLnByb2plY3ROYW1lcy5pbmRleE9mKHByb2plY3QudGl0bGUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2plY3QudGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3QudGFza3MpO1xuICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8aDMgaWQ9XCJwcm9qZWN0LXRhc2tzLXRpdGxlXCI+JHtwcm9qZWN0LnRpdGxlfTwvaDM+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIHByb2plY3QudGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICAgICAgbGV0IHByb2pUYXNrc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgcHJvalRhc2tzRGl2LmNsYXNzTmFtZSA9ICdwcm9qLXRhc2tzJztcbiAgICAgICAgICAgIHByb2pUYXNrc0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxwPiR7dGFzay50aXRsZX08L3A+ICBcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0YXNrLWRpc3BsYXlcIj4ke3Rhc2suZHVlRGF0ZX08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGFzay1kaXNwbGF5XCI+JHt0YXNrLnByaW9yaXR5fTwvcD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJvalRhc2tzRGl2KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwcm9qVGFza1RpdGxlICE9PSBudWxsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHByb2plY3RzLnByb2plY3ROYW1lcy5pbmRleE9mKHByb2pUYXNrVGl0bGUudGV4dENvbnRlbnQpID09PSAtMVxuICAgICAgKSB7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJvZHksXG4gICAgZGVsZXRlVGFzayxcbiAgICBjbGVhclByb2pUYXNrcyxcbiAgICBzaG93UHJvamVjdFRhc2tzLFxuICAgIHByb2pUYXNrRGlzcGxheUNoZWNrLFxuICAgIGRlbGV0ZVByb2plY3QsXG4gICAgb3BlblRhc2tNb2RhbCxcbiAgICBvcGVuUHJvamVjdE1vZGFsLFxuICAgIGhpZGVQcm9qZWN0TW9kYWwsXG4gICAgaGlkZVRhc2tNb2RhbCxcbiAgICBjbGVhclByb2pGb3JtLFxuICAgIGNsZWFyVGFza0Zvcm0sXG4gICAgcmVuZGVyUHJvak9wdGlvbnMsXG4gICAgc2hvd1Byb2plY3RzLFxuICAgIHNob3dUYXNrc1xuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgZG9tO1xuIiwiaW1wb3J0IGRvbSBmcm9tICcuL2RvbSc7XG5pbXBvcnQgcHJvamVjdHMgZnJvbSAnLi9wcm9qZWN0cyc7XG5pbXBvcnQgdGFza3MgZnJvbSAnLi90YXNrcyc7XG5cbmNvbnN0IGhhbmRsZXJzID0gKCgpID0+IHtcbiAgZnVuY3Rpb24gY2xpY2tIYW5kbGVycygpIHtcbiAgICBkb20uYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuaWQgPT09ICd0YXNrLWJ0bicpIHtcbiAgICAgICAgZG9tLm9wZW5UYXNrTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGUudGFyZ2V0LmlkID09PSAncHJvamVjdC1idG4nKSB7XG4gICAgICAgIGRvbS5vcGVuUHJvamVjdE1vZGFsKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09ICdjbG9zZS1idXR0b24nKSB7XG4gICAgICAgIGRvbS5oaWRlUHJvamVjdE1vZGFsKCk7XG4gICAgICAgIGRvbS5oaWRlVGFza01vZGFsKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlLnRhcmdldC5pZCA9PT0gJ3Rhc2stc3VibWl0Jykge1xuICAgICAgICB0YXNrcy5hZGRUYXNrKCk7XG4gICAgICAgIGRvbS5zaG93VGFza3MoKTtcbiAgICAgICAgZG9tLmhpZGVUYXNrTW9kYWwoKTtcbiAgICAgICAgZG9tLmNsZWFyVGFza0Zvcm0oKTtcbiAgICAgICAgZG9tLnByb2pUYXNrRGlzcGxheUNoZWNrKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlLnRhcmdldC5pZCA9PT0gJ3Byb2plY3Qtc3VibWl0Jykge1xuICAgICAgICBwcm9qZWN0cy5hZGRQcm9qZWN0KCk7XG4gICAgICAgIGRvbS5zaG93UHJvamVjdHMoKTtcbiAgICAgICAgZG9tLnJlbmRlclByb2pPcHRpb25zKCk7XG4gICAgICAgIGRvbS5oaWRlUHJvamVjdE1vZGFsKCk7XG4gICAgICAgIGRvbS5jbGVhclByb2pGb3JtKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09ICdmYXMgZmEtdHJhc2ggZGVsZXRlLXByb2plY3QnKSB7XG4gICAgICAgIHByb2plY3RzLnJlbW92ZVRhc2tzV2l0aFByb2ooZSk7XG4gICAgICAgIGRvbS5kZWxldGVQcm9qZWN0KGUpO1xuICAgICAgICBkb20ucmVuZGVyUHJvak9wdGlvbnMoKTtcbiAgICAgICAgZG9tLnNob3dQcm9qZWN0cygpO1xuICAgICAgICBkb20uc2hvd1Rhc2tzKCk7XG4gICAgICAgIGRvbS5wcm9qVGFza0Rpc3BsYXlDaGVjaygpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSAnZmFzIGZhLXRyYXNoIGRlbGV0ZS10YXNrJykge1xuICAgICAgICBkb20uZGVsZXRlVGFzayhlKTtcbiAgICAgICAgdGFza3Mub3JkZXJUYXNrcygpO1xuICAgICAgICBkb20uc2hvd1Byb2plY3RzKCk7XG4gICAgICAgIGRvbS5zaG93VGFza3MoKTtcbiAgICAgICAgZG9tLnByb2pUYXNrRGlzcGxheUNoZWNrKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlLnRhcmdldC5pZCA9PT0gJ3Byb2plY3QtbGlzdC1pdGVtJykge1xuICAgICAgICBkb20uY2xlYXJQcm9qVGFza3MoKTtcbiAgICAgICAgZG9tLnNob3dQcm9qZWN0VGFza3MoZSk7XG4gICAgICAgIGRvbS5wcm9qVGFza0Rpc3BsYXlDaGVjaygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHsgY2xpY2tIYW5kbGVycyB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcnM7XG4iXSwibmFtZXMiOlsidGFza1RpdGxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvamVjdFNlbGVjdGlvbiIsInByaW9yaXR5IiwiZHVlRGF0ZSIsInRhc2tEZXNjcmlwdGlvbiIsImFsbFRhc2tzIiwiYWRkVGFzayIsInZhbHVlIiwiYWxlcnQiLCJuZXdUYXNrIiwidGl0bGUiLCJwcm9qZWN0IiwiZGVzY3JpcHRpb24iLCJwdXNoIiwiY29uc29sZSIsImxvZyIsInByb2oiLCJ0YXNrcyIsIm9yZGVyVGFza3MiLCJmaWx0ZXIiLCJ0YXNrIiwiaW5jbHVkZXMiLCJoZWxwZXIiLCJwcm9qZWN0TGlzdCIsInByb2plY3ROYW1lcyIsInByb2pOYW1lIiwiYWRkUHJvamVjdCIsIm5ld1Byb2oiLCJyZW1vdmVUYXNrc1dpdGhQcm9qIiwiZSIsInRhcmdldCIsInBhcmVudE5vZGUiLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJ0YXNrTW9kYWwiLCJjb250YWluZXIiLCJwcm9qZWN0TW9kYWwiLCJzZWxlY3RQcm9qIiwicHJvakNvbnRhaW5lciIsInRhc2tDb250YWluZXIiLCJib2R5IiwiZGVsZXRlVGFzayIsImRhdGFzZXQiLCJ0YXNrTnVtIiwiY2xlYXJQcm9qVGFza3MiLCJpbm5lckhUTUwiLCJzaG93UHJvamVjdFRhc2tzIiwiZm9yRWFjaCIsInByb2pUYXNrc0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsInByb2pUYXNrRGlzcGxheUNoZWNrIiwicHJvalRhc2tUaXRsZSIsImxlbmd0aCIsImNsYXNzTmFtZSIsImRlbGV0ZVByb2plY3QiLCJpbmRleE51bWJlciIsIm9wZW5UYXNrTW9kYWwiLCJzdHlsZSIsImRpc3BsYXkiLCJvcGVuUHJvamVjdE1vZGFsIiwiaGlkZVByb2plY3RNb2RhbCIsImhpZGVUYXNrTW9kYWwiLCJjbGVhclByb2pGb3JtIiwiY2xlYXJUYXNrRm9ybSIsInRhc2tQcm9qZWN0IiwidGFza0R1ZURhdGUiLCJ0YXNrUHJpb3JpdHkiLCJyZW5kZXJQcm9qT3B0aW9ucyIsIm9wIiwiaWQiLCJzaG93UHJvamVjdHMiLCJsaSIsInNob3dUYXNrcyIsInRhc2tEaXYiXSwic291cmNlUm9vdCI6IiJ9